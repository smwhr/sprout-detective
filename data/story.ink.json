{"inkVersion":20,"root":[["\n","\n","\n","\n","^Sprout Detective ",{"#":"TITLE"},"\n",{"->":"init"},["done",{"#n":"g-0"}],null],"done",{"init":[["ev","str","^auto: start game","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","^SPAWN_AT(desk-from-start)","\n",{"->":"reception"},null]}],null],"elevator_thread":[["ev","str","^tag: elevator","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","^SPAWN_AT(elevator-in)","\n",{"->":"elevator"},"done",null]}],null],"elevator":[[["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^You are in the elevator",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","str","^tag: elevator-1","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^tag: elevator-2","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^tag: elevator-3","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^tag: elevator-4","/str","/ev",{"*":".^.c-3","flg":4},"ev","str","^tag: elevator-exit","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["\n","ev",1,{"f()":"moveElevator"},"pop","/ev","\n",{"->":".^.^"},null],"c-1":["\n","ev",2,{"f()":"moveElevator"},"pop","/ev","\n",{"->":".^.^"},null],"c-2":["\n","ev",3,{"f()":"moveElevator"},"pop","/ev","\n",{"->":".^.^"},null],"c-3":["\n","ev",4,{"f()":"moveElevator"},"pop","/ev","\n",{"->":".^.^"},null],"c-4":["\n","ev",{"VAR?":"currentFloor"},"/ev",["du","ev",1,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^SPAWN_AT(elevator-1)","\n",{"->":"corridor1"},{"->":".^.^.^.9"},null]}],["du","ev",2,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^SPAWN_AT(elevator-2)","\n",{"->":"corridor2"},{"->":".^.^.^.9"},null]}],["du","ev",3,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^SPAWN_AT(elevator-3)","\n",{"->":"corridor3"},{"->":".^.^.^.9"},null]}],["du","ev",4,"==","/ev",{"->":".^.b","c":true},{"b":["pop","\n","^SPAWN_AT(elevator-4)","\n",{"->":"swimming_pool"},{"->":".^.^.^.9"},null]}],"pop","nop","\n",null],"#n":"opts"}],null],null],"moveElevator":[{"temp=":"to"},"ev",{"VAR?":"to"},{"VAR?":"currentFloor"},"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^You already are on Floor ","ev",{"VAR?":"to"},"out","/ev","\n",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\n","^You feel the elevator moving ","ev",{"VAR?":"to"},{"VAR?":"currentFloor"},">","/ev",[{"->":".^.b","c":true},{"b":["^ up",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^down",{"->":".^.^.^.9"},null]}],"nop","\n","ev",{"VAR?":"to"},"/ev",{"VAR=":"currentFloor","re":true},{"->":".^.^.^.8"},null]}],"nop","\n",null],"corridor1":[["thread",{"->":"elevator_thread"},"ev","str","^tag: corridor1-to-reception","/str","/ev",{"*":".^.c-0","flg":4},{"c-0":["\n","^SPAWN_AT(reception-from-corridor1)","\n",{"->":"reception"},"done",null]}],null],"corridor2":["thread",{"->":"elevator_thread"},"done",null],"corridor3":["thread",{"->":"elevator_thread"},"done",null],"swimming_pool":[["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","\n","^swimming pool ",{"#":"TITLE"},"\n",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n","thread",{"->":"elevator_thread"},"done",null],"reception":[[["ev","str","^tag: reception_talk","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^tag: reception-to-corridor1","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^tag: access-behind-desk","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n",{"->t->":"talk_to_receptionist"},{"->":".^.^.^.g-0"},null],"c-1":["\n","^SPAWN_AT(corridor1-from-reception)","\n",{"->":"corridor1"},{"->":".^.^.^.g-0"},null],"c-2":["\n","^Receptionnist: This is for staff only, go back !","\n","^SPAWN_AT(behind-desk-pushback)","\n",{"->":".^.^.^.g-0"},null],"#n":"opts"}],{"g-0":[{"->":".^.^.opts"},null]}],null],"talk_to_receptionist":["^Welcome to Lich Hotel.","\n","ev","void","/ev","->->",null],"global decl":["ev",1,{"VAR=":"currentFloor"},"/ev","end",null]}],"listDefs":{}}